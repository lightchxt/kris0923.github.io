<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=utf-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.115.4"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="《C程序设计语言学习笔记》（三）"><meta itemprop=description content="保持简单的易用性和强大的功能。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://blog.ibird.site/imgs/hugo_next_avatar.png"><meta itemprop=keywords content><meta property="og:type" content="article"><meta property="og:title" content="《C程序设计语言学习笔记》（三）"><meta property="og:description" content="保持简单的易用性和强大的功能。"><meta property="og:image" content="/imgs/hugo_next_avatar.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://blog.ibird.site/post/c-language3/"><meta property="og:site_name" content="指北针"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="NexT 主题"><meta property="article:published_time" content="2023-07-28 09:37:14 +0800 CST"><meta property="article:modified_time" content="2023-07-28 09:37:14 +0800 CST"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.6579ae38196c266bb8b66f3a4b5cc6301a56840143bab8594affcc9711d06816.css><style type=text/css>.post-footer,.flinks-list-footer hr:after{content:"~ 我可是有底线的哟 ~"}</style><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"c-language3","permalink":"https://blog.ibird.site/post/c-language3/","title":"《C程序设计语言学习笔记》（三）"}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>《C程序设计语言学习笔记》（三） - 指北针</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>指北针</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>为 Hugo 打造的主题</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-flinks"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-thumbs-up hvr-icon"></i>站点示例</a></li><li class="menu-item menu-item-archives"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>29</span></a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt="NexT 主题" src=/imgs/img-lazy-loading.gif data-src=/imgs/hugo_next_avatar.png><p class=site-author-name itemprop=name>NexT 主题</p><div class=site-description itemprop=description>保持简单的易用性和强大的功能。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>29</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>11</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>12</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/lightchxt title="Github → https://github.com/lightchxt" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github</a></span>
<span class=links-of-social-item><a href=https://www.zhihu.com/people/wo-gang-gang-shuo-liao-shi-yao title="知乎 → https://www.zhihu.com/people/wo-gang-gang-shuo-liao-shi-yao" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li></ul></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a>
<a href=https://github.com/hugo-next rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script>
<script type=text/javascript>((window.gitter={}).chat={}).options={room:"hugo-next/community"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://blog.ibird.site/post/c-language3/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/hugo_next_avatar.png"><meta itemprop=name content="NexT 主题"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="NexT 主题"><meta itemprop=description content="保持简单的易用性和强大的功能。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="《C程序设计语言学习笔记》（三）"><meta itemprop=description content="第五章主要讲了指针与地址、指针与函数参数、指针与数组、地址算术运算、字符指针与函数、指针数组及指向指针的指针、多维数组、指针数组的初始化、指"></span><header class=post-header><h1 class=post-title itemprop="name headline">《C程序设计语言学习笔记》（三）
<a href=https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name/post/c-language3.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i></span>
<span class=post-meta-item-text title=发表于>发表于：</span>
<time title="创建时间：2023-07-28 09:37:14 +0800 CST" itemprop="dateCreated datePublished" datetime="2023-07-28 09:37:14 +0800 CST">2023-07-28</time></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i></span>
<span class=post-meta-item-text>字数：</span>
<span>2110</span></span>
<span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i></span>
<span class=post-meta-item-text>阅读：&ap;</span>
<span>5分钟</span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><p>第五章主要讲了指针与地址、指针与函数参数、指针与数组、地址算术运算、字符指针与函数、指针数组及指向指针的指针、多维数组、指针数组的初始化、指针与多维数组、命令行参数、指向函数的指针、复杂申明等内容。</p><p>指针与地址</p><ul><li>指针可以保存变量的地址，通过指针可以访问或修改变量。</li></ul><p>指针与函数参数</p><ul><li>C语言是通过传值方式将参数传递给函数的，如果需要修改调用者变量的值，就需要传递指针。</li></ul><p>指针与数组</p><ul><li>指针和数组有密切的关系，可以使用指针来对数组进行遍历和操作，这通常比使用数组下标更快。</li><li>数组名是一个指向数组第一个元素的指针常量，可以通过指针算术来访问数组中的元素。</li></ul><p>地址算术运算符</p><ul><li>使用地址算术运算符可以对指针进行加减操作。</li></ul><p>字符指针与函数</p><ul><li>字符指针常用于处理字符串，通过指针操作可以方便地对字符串进行复制、拼接等操作。</li></ul><p>指针数组及指向指针的指针</p><ul><li>指针数组是一个数组，其中的每个元素都是一个指针。</li><li>指向指针的指针是指一个指针变量存储的是另一个指针的地址。</li></ul><p>多维数组</p><ul><li>多维数组是指数组中的每个元素也是一个数组，形成了一个多维的数据结构。</li></ul><p>指针数组的初始化</p><ul><li>指针数组的初始化可以通过直接给每个元素赋值或者使用字符串常量进行初始化。</li></ul><p>指针与多维数组</p><ul><li>指针和多维数组的关系比较复杂，指针可以用来访问多维数组的元素。</li></ul><p>命令行参数</p><ul><li>程序启动时可以通过命令行输入参数，argc表示参数数量，argv保存参数列表。</li></ul><p>指向函数的指针</p><ul><li>指向函数的指针可以增强函数的灵活性，可以以函数作为参数传递给其他函数。</li></ul><p>复杂申明</p><ul><li>复杂申明指的是一些较难理解的声明，如 int <em>f() 和 int (*p</em>f)()，需要注意声明符与可读性的兼顾。</li></ul><p>第六章主要介绍了结构的相关知识，包括结构的基本概念、用法和常见操作。以下是主要内容的总结：</p><p>结构的基本知识</p><ul><li>结构是一种用户定义的数据类型，用来表示不同的数据类型组成的数据。</li><li>结构中可以包含多种不同的数据类型，每个数据元素都有自己的名称。</li><li>结构可以通过复制整体、取地址符号、访问成员等方式进行操作。</li></ul><p>结构与函数</p><ul><li>结构可以作为参数传递给函数，这种传递可以是复制整体、传递结构指针等方式。</li><li>结构还可以作为函数的返回值，这种返回值可以是整体返回、通过指针返回等方式。</li></ul><p>结构数组</p><ul><li>结构数组是由多个结构组成的数组，每个结构可以包含不同的数据类型。</li><li>可以使用数组下标和指针来访问结构数组中的元素。</li></ul><p>指向结构的指针</p><ul><li>指向结构的指针保存的是结构变量的地址。</li><li>可以使用指针访问结构成员、通过指针传递结构等。</li></ul><p>自引用结构</p><ul><li>自引用结构是指结构中包含指向自身结构的指针。</li><li>可以使用自引用结构来实现复杂的数据结构，如二叉树、链表等。</li></ul><p>表查找</p><ul><li>表查找是指按关键字查找表中数据项的过程，通过表来提高查找效率。</li><li>可以使用结构和指针来实现表的设计和查找功能。</li></ul><p>类型定义</p><ul><li>使用typedef关键字可以定义自己的类型名称，而不必重复书写繁琐的类型声明。</li><li>typedef的作用除了提高程序的可读性和简洁性，还可以让程序更易于移植和修改。</li></ul><p>联合</p><ul><li>联合是一种特殊的结构，所有成员的相对偏移量为0，不同类型的成员共享同一个内存块。</li><li>联合的可以保存不同类型的数据，在一些特殊场景下可以提高程序的灵活性和效率。</li></ul><p>位字段</p><ul><li>位字段是指使用二进制位来表示特定含义的数据类型。</li><li>位字段可以提高存储空间的利用率，但也可能会影响程序的可读性和可移植性。</li></ul><p>综上所述，结构在C语言中是一个非常重要的概念，在实际应用中也经常被使用。掌握了这些知识点，对于程序的设计和实现都有很大的帮助。</p><p>第五章习题及答案：</p><ol><li><p>假设有如下声明：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>a[];
</span></span></code></pre></div><p>表达式<code>sizeof(a)</code>的值是什么？</p><p>答案：该表达式的值为指针大小的整数倍，等于指针的长度。</p></li><li><p>假设有如下代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>p<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;12345&#34;</span>;
</span></span></code></pre></div><p>下面的代码有何不同？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> a[]<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;12345&#34;</span>;
</span></span></code></pre></div><p>答案：第一个定义的是指针，第二个定义的是字符数组，两种方式存储的方式不同。</p></li><li><p>下面哪些表达式是合法的？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span>a. ptr<span style=color:#f92672>-&gt;</span>name;
</span></span><span style=display:flex><span>b. ptr.name;
</span></span><span style=display:flex><span>c. (<span style=color:#f92672>*</span>ptr).name;
</span></span><span style=display:flex><span>d. ptr[<span style=color:#ae81ff>0</span>].name;
</span></span><span style=display:flex><span>e. ptr<span style=color:#f92672>-&gt;</span>name[<span style=color:#ae81ff>0</span>];
</span></span></code></pre></div><p>答案：a、c、d、e是合法的，b不合法。</p></li><li><p>以下函数能否正确编译？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>strlen</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> n;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (n <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#f92672>*</span>s <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#39;\0&#39;</span>; s<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        n<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> n;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>答案：可以正确编译。</p></li><li><p>以下函数能否正确编译？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>strcpy</span>(<span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s, <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>t) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>*</span>s<span style=color:#f92672>++</span> <span style=color:#f92672>=</span> <span style=color:#f92672>*</span>t<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        ;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>答案：可以正确编译。</p></li></ol><p>第六章习题及答案：</p><ol><li><p>对于以下结构定义：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>struct</span> point {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> x;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y;
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>如果定义了以下结构变量：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>struct</span> point pt <span style=color:#f92672>=</span> {<span style=color:#ae81ff>320</span>, <span style=color:#ae81ff>200</span>};
</span></span></code></pre></div><p>然后执行下面的操作：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>struct</span> point <span style=color:#f92672>*</span>pp <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>pt;
</span></span></code></pre></div><p>如何访问变量<code>pt</code>的各个成员？如何访问指针<code>pp</code>的各个成员？</p><p>答案：可以使用<code>.</code>和<code>-></code>操作符，如<code>pt.x</code>、<code>pp->x</code>。</p></li><li><p>对于以下代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>char</span> b[<span style=color:#ae81ff>20</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> c;
</span></span><span style=display:flex><span>} s;
</span></span></code></pre></div><p>求<code>s</code>的长度，以及各成员的偏移量。</p><p>答案：<code>s</code>的长度为24字节，<code>a</code>的偏移量为0，<code>b</code>的偏移量为4，<code>c</code>的偏移量为24。</p></li><li><p>对于以下代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>s;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> idx;
</span></span><span style=display:flex><span>    } b;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> c;
</span></span><span style=display:flex><span>} s;
</span></span></code></pre></div><p>求<code>s</code>的长度，以及各成员的偏移量。</p><p>答案：<code>s</code>的长度为20字节，<code>a</code>的偏移量为0，<code>b</code>的偏移量为4，<code>s</code>的偏移量为0，<code>idx</code>的偏移量为4，<code>c</code>的偏移量为12。</p></li><li><p>下面哪些表达式是合法的？</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span>a. <span style=color:#f92672>&amp;</span>a[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>b. <span style=color:#f92672>&amp;</span>a;
</span></span><span style=display:flex><span>c. <span style=color:#f92672>&amp;</span>a[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>d. a[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>e. <span style=color:#f92672>&amp;</span>a[<span style=color:#ae81ff>1</span>][<span style=color:#ae81ff>2</span>];
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> a[<span style=color:#ae81ff>10</span>][<span style=color:#ae81ff>20</span>];
</span></span></code></pre></div><p>答案：a和e是合法的，b、c、d不合法。</p></li><li><p>对于以下代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>month_name</span>(<span style=color:#66d9ef>int</span> n) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span>name[] <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Illegal month&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;January&#34;</span>, <span style=color:#e6db74>&#34;February&#34;</span>, <span style=color:#e6db74>&#34;March&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;April&#34;</span>,<span style=color:#e6db74>&#34;May&#34;</span>,<span style=color:#e6db74>&#34;June&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;July&#34;</span>,<span style=color:#e6db74>&#34;August&#34;</span>,<span style=color:#e6db74>&#34;September&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;October&#34;</span>,<span style=color:#e6db74>&#34;November&#34;</span>,<span style=color:#e6db74>&#34;December&#34;</span>
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (n <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> n <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>?</span> name[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>:</span> name[n];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>程序返回的是静态字符串的指针，因此程序可能存在错误。修改程序，使其可以通过指针函数进行正确的返回。</p><p>答案：可以将静态字符串改为静态数组，然后通过数组变量来返回值。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#66d9ef>char</span> month_name[<span style=color:#ae81ff>12</span>][<span style=color:#ae81ff>20</span>] <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Illegal month&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;January&#34;</span>, <span style=color:#e6db74>&#34;February&#34;</span>, <span style=color:#e6db74>&#34;March&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;April&#34;</span>,<span style=color:#e6db74>&#34;May&#34;</span>,<span style=color:#e6db74>&#34;June&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;July&#34;</span>,<span style=color:#e6db74>&#34;August&#34;</span>,<span style=color:#e6db74>&#34;September&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;October&#34;</span>,<span style=color:#e6db74>&#34;November&#34;</span>,<span style=color:#e6db74>&#34;December&#34;</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>char</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>get_month_name</span>(<span style=color:#66d9ef>int</span> n) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (n <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> n <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>12</span>) <span style=color:#f92672>?</span> month_name[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>:</span> month_name[n];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ol></div><footer class=post-footer><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
《C程序设计语言学习笔记》（三）</li><li class=post-copyright-author><strong>本文作者：</strong>
NexT 主题</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://blog.ibird.site/post/c-language3/ title=《C程序设计语言学习笔记》（三）>https://blog.ibird.site/post/c-language3/</a></li><li class=post-copyright-license><strong>版权声明：</strong>
本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/images/wechat_channel.jpg><span class=icon><i class="fab fa-weixin"></i></span>
<span class=label>WeChat</span></a></div><div class=social-item><a target=_blank class=social-link href=/atom.xml><span class=icon><i class="fa fa-rss"></i></span>
<span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"></div><div class="post-nav-prev post-nav-item"><a href=/post/c-language2/ rel=prev title=《C程序设计语言学习笔记》（二）>《C程序设计语言学习笔记》（二）
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2023</span>
<span class=with-love><i class="fa fa-heart"></i></span>
<span class=author itemprop=copyrightHolder>NexT 主题</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.115.4 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=vendors-list><a target=_blank href=https://vercel.com title=Vercel><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/vercel.svg alt=Vercel></a>
<a target=_blank href=https://upyun.com title=又拍云><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/upyun.png alt=又拍云></a>
<a target=_blank href=https://webify.cloudbase.net title=Webify>Webify</a>
<span>提供CDN/云资源支持</span></div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script>
<script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script>
<script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"https://blog.ibird.site","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":null,"views":null},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"statis":{"enable":true,"plugin":"busuanzi"},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"comment":true,"emoji":false,"imguploader":false,"pageview":true,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.11d6c39ce43fcb97ea816ea2c136c17f188cacbba49ae066e747ea0f71b633a0.js defer></script></body></html>